ğŸ§¾ Lektionsplanering â€“ MÃ¥ndag 5 maj 2025
â° Tid: 09.00â€“12.00
ğŸ¯ Fokus: relationsdatabaser, SQL-syntax och CRUD med PostgreSQL & pgAdmin.
ğŸ§  Pedagogiskt fokus: visa verktyg & syntax fÃ¶rst â€“ lÃ¥t studenterna sen snabbt jobba praktiskt

-----------------------------
ğŸ¯ Syfte

FÃ¶rstÃ¥ vad en relationsdatabas Ã¤r

Kunna skriva SQL-frÃ¥gor fÃ¶r SELECT, INSERT, UPDATE, DELETE

AnvÃ¤nda WHERE, ORDER BY och LIMIT

Skapa och hantera databaser i pgAdmin

-----------------------------
ğŸ§  Agenda

09.00â€“09.15	ğŸ‘‹ Intro & teori	"Vad Ã¤r en databas? Vad Ã¤r SQL?" (utan slides â€“ muntlig walkthrough + whiteboard/texteditor)
09.15â€“10.15	ğŸ’» Code-Along del 1	Installera PostgreSQL & pgAdmin, skapa DB, tabell, INSERT, SELECT, UPDATE, DELETE
10.15â€“10.25	â˜• Paus	
10.25â€“11.15	ğŸ’» Code-Along del 2	WHERE, ORDER BY, LIMIT â€“ fler INSERTs, SELECT med filter och sortering
11.15â€“11.55	ğŸ§‘â€ğŸ’» SjÃ¤lvstÃ¤ndig Ã¶vning	Skapa egen databas, tabell, gÃ¶ra CRUD och filtreringar
11.55â€“12.00	ğŸ” Reflektion	3 min individuell reflektion + diskussionsrunda: â€œVad var klurigt? Vad kÃ¤nns sjÃ¤lvklart?â€

-----------------------------
ğŸ§  TEORI â€“ TALARMANUS (utan slides)

ğŸ—£ï¸ Vad Ã¤r en databas?

"En databas Ã¤r som ett kalkylblad, men mycket kraftfullare. Den kan lagra, filtrera, sortera och koppla data â€“ ofta i mycket stora mÃ¤ngder. PostgreSQL Ã¤r ett exempel pÃ¥ en sÃ¥ kallad relationsdatabas, dÃ¤r vi organiserar data i tabeller med kolumner och rader."

ğŸ—£ï¸ Vad Ã¤r SQL?

"SQL Ã¤r ett sprÃ¥k fÃ¶r att prata med databaser. Vi anvÃ¤nder det fÃ¶r att frÃ¥ga efter data (SELECT), lÃ¤gga till data (INSERT), Ã¤ndra (UPDATE) eller ta bort (DELETE)."

ğŸ—£ï¸ VarfÃ¶r relationsdatabas?

"NÃ¤r vi har strukturerad data som har relationer â€“ t.ex. anvÃ¤ndare och deras produkter â€“ sÃ¥ Ã¤r relationsdatabaser ett bra val. De ger tydlighet och kontroll."

-----------------------------
-----------------------------
-----------------------------
ğŸ’» CODE-ALONG: Del 1 â€“ Setup & CRUD

1. Installera & starta PostgreSQL/pgAdmin

ğŸ› ï¸ Visa hur man laddar ner PostgreSQL och startar pgAdmin.
Skapa en databas lektiondb.

2. Skapa tabell users
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50),
  email VARCHAR(50)
);

3. INSERT (lÃ¤gg till data)
INSERT INTO users (name, email) VALUES ('Anna', 'anna@test.se');
INSERT INTO users (name, email) VALUES ('Erik', 'erik@test.se');

4. SELECT (lÃ¤s data)
SELECT * FROM users;

5. UPDATE (Ã¤ndra data)
UPDATE users SET name = 'Anna Svensson' WHERE id = 1;

6. DELETE (ta bort data)
DELETE FROM users WHERE id = 2;

-----------------------------
ğŸ’» CODE-ALONG: Del 2 â€“ Filtrera & sortera

7. WHERE
SELECT * FROM users WHERE name = 'Anna Svensson';

8. ORDER BY
SELECT * FROM users ORDER BY name ASC;

9. LIMIT
SELECT * FROM users LIMIT 1;

ğŸ’¡ Visa exempel dÃ¤r ORDER BY + LIMIT kombineras:
SELECT * FROM users ORDER BY id DESC LIMIT 1;

-----------------------------
ğŸ“š Viktiga extra begrepp du kan lyfta i diskussion

SERIAL (auto-increment id)

VARCHAR (maxlÃ¤ngd pÃ¥ text)

INTEGER (heltal)

PRIMARY KEY (unik identifierare)

FOREIGN KEY (relation mellan tabeller)

JOIN (kombinera flera tabeller)

Pool frÃ¥n pg (effektiv hantering av anslutningar)
/ client vad Ã¤r skillnaden?

-----------------------------

ğŸ—£ï¸ Talarmanus:
"VarfÃ¶r behÃ¶ver vi tabeller och kolumner?
TÃ¤nk er en Excel-fil med flera blad. Varje blad motsvarar en tabell i databasen, och varje kolumn definierar vad som sparas, t.ex. namn eller e-post. Varje rad Ã¤r en enskild anvÃ¤ndare."

-----------------------------
GrundlÃ¤ggande SQL-queries (CRUD)

Operation	SQL Keyword	FÃ¶rklaring
Create	INSERT	LÃ¤gg till data
Read	SELECT	HÃ¤mta data
Update	UPDATE	Ã„ndra befintlig data
Delete	DELETE	Ta bort data

ğŸ“Œ INSERT (LÃ¤gg till data)
INSERT INTO users (name, email) VALUES ('Anna', 'anna@test.se');
INSERT INTO products (name, price) VALUES ('Laptop', 12000);

ğŸ“Œ SELECT (LÃ¤s data)
SELECT * FROM users;
SELECT name, price FROM products;

ğŸ“Œ UPDATE (Uppdatera data)
UPDATE users SET name='Anna Svensson' WHERE id=1;
UPDATE products SET price=10000 WHERE id=1;

ğŸ“Œ DELETE (Ta bort data)
DELETE FROM users WHERE id=1;
DELETE FROM products WHERE id=1;

-----------------------------
ğŸ”— Relationshantering (Foreign keys)

ğŸ“– FÃ¶rklaring & syfte
Relationsdatabaser anvÃ¤nder nycklar (keys) fÃ¶r att koppla ihop data frÃ¥n olika tabeller.

Primary key: Unik identifierare fÃ¶r varje rad.

Foreign key: HÃ¤nvisning till primary key i en annan tabell.

ğŸ—£ï¸ Talarmanus:
"VarfÃ¶r relationer?
FÃ¶restÃ¤ll er att vi har anvÃ¤ndare och deras produkter. Vi vill veta vem som Ã¤ger vilken produkt. Med en foreign key kan vi koppla produkten till anvÃ¤ndaren utan att duplicera anvÃ¤ndardata."

âš™ï¸ Execute:
Skapa tabellen products:
CREATE TABLE products (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50),
  price INTEGER
);

"HÃ¤r skapade vi tabellen products med en foreign key (user_id) som pekar pÃ¥ anvÃ¤ndarnas id."

Nu har vi anvÃ¤ndare och produkter, men hur kopplar vi ihop dem? Vi gÃ¶r detta genom att lÃ¤gga till en sÃ¥ kallad foreign key. Det betyder att varje produkt kan kopplas till en anvÃ¤ndare.

âš™ï¸ Execute stegvis i pgAdmin:
ALTER TABLE products ADD COLUMN user_id INTEGER;
ALTER TABLE products ADD FOREIGN KEY (user_id) REFERENCES users(id);

FÃ¶rsta raden lÃ¤gger till en ny kolumn (user_id).

Andra raden definierar relationen dÃ¤r varje produkt hÃ¤nvisar till ett anvÃ¤ndar-id.

-----------------------------
5. Skapa relationer mellan tabeller (JOIN-exempel)

JOIN anvÃ¤nds fÃ¶r att kombinera data frÃ¥n flera tabeller.

Typ av JOIN	Beskrivning
INNER JOIN	Visar rader dÃ¤r bÃ¥da tabeller matchar.
LEFT JOIN	Visar alla rader frÃ¥n vÃ¤nster tabell.
RIGHT JOIN	Visar alla rader frÃ¥n hÃ¶ger tabell.

"VarfÃ¶r anvÃ¤nder vi JOIN? Om vi har data i olika tabeller och vill visa dem ihop, som produkter med deras Ã¤gares namn, behÃ¶ver vi en JOIN."

âš™ï¸ Execute JOIN-query (INNER JOIN):
SELECT products.name, products.price, users.name AS owner
FROM products
JOIN users ON products.user_id = users.id;

"Denna JOIN visar alla produkter och vem som Ã¤ger dem."

-----------------------------
-----------------------------
-----------------------------
ğŸ§‘â€ğŸ’» SJÃ„LVSTÃ„NDIG Ã–VNINGAR

-----------------------------
-----------------------------
-----------------------------
ğŸ” Gruppdiskussion 

Vilka utmaningar mÃ¶tte ni med SQL-syntax?

Hur skiljer sig SQL- och NoSQL-databaser i praktiken?

Hur ser ni pÃ¥ databasstruktur i ert Chas Challenge-projekt?

Vad Ã¤r fÃ¶rdelen med SQL jÃ¤mfÃ¶rt med NoSQL?

Vad tycker ni Ã¤r svÃ¥rast med SQL-syntax?

VarfÃ¶r Ã¤r det viktigt med felhantering vid databasoperationer?