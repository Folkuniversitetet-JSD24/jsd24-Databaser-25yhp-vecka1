ğŸ§¾ Lektionsplanering â€“ Onsdag 7 maj 2025
â° Tid: 09.00â€“12.00
ğŸ¯ Fokus: datamodellering, ER-diagram, relationstyper och Ã¶versÃ¤ttning till SQL
ğŸ§  Pedagogiskt fokus: bygga fÃ¶rstÃ¥else genom visualisering â†’ direkt till praktisk tillÃ¤mpning

-----------------------------
ğŸ¯ Syfte

FÃ¶rstÃ¥ varfÃ¶r datamodellering Ã¤r viktigt innan man skriver SQL

KÃ¤nna till skillnaderna mellan olika relationstyper (1â€“1, 1â€“M, Mâ€“M)

Kunna tolka och skapa egna ER-diagram

Ã–versÃ¤tta ett ER-diagram till korrekt SQL-syntax i PostgreSQL

-----------------------------
ğŸ§  Agenda

09.00â€“09.15	ğŸ‘‹ Intro & Teori	Vad Ã¤r datamodellering och ER-diagram? Syfte och exempel
09.15â€“09.50	ğŸ“ Teori + walkthrough	Entiteter, attribut, relationer. 1â€“M, Mâ€“M, junction-tabeller. Rita gemensamt exempel
09.50â€“10.20	ğŸ’» Code-Along 1	Skapa ER-diagram i dbdiagram.io (eller annat verktyg)
10.20â€“10.30	â˜• Paus	
10.30â€“11.00	ğŸ’» Code-Along 2	Ã–versÃ¤tt ER-diagrammet till SQL i PostgreSQL/pgAdmin
11.00â€“11.50	ğŸ§‘â€ğŸ’» SjÃ¤lvstÃ¤ndig Ã¶vning	Rita eget ER-diagram, Ã¶versÃ¤tt till tabeller och skapa dem
11.50â€“12.00	ğŸ” Reflektion & frÃ¥gor	Kort diskussion i helklass kring modelleringens utmaningar

-----------------------------
ğŸ§  TEORI â€“ TALARMANUS

ğŸ—£ï¸ Vad Ã¤r datamodellering?

"Datamodellering Ã¤r processen att planera hur data ska organiseras innan vi skapar tabeller. Det hjÃ¤lper oss att fÃ¶rstÃ¥ vilka entiteter vi har, hur de hÃ¤nger ihop och vilka relationer som finns mellan dem."

ğŸ—£ï¸ Vad Ã¤r ett ER-diagram?

"ER stÃ¥r fÃ¶r Entity-Relationship. Det Ã¤r ett visuellt sÃ¤tt att visa hur tabeller (entiteter) hÃ¤nger ihop med varandra via relationer. Varje entitet har attribut, alltsÃ¥ kolumner i tabellen."

ğŸ—£ï¸ Vad Ã¤r en relation?

1â€“1: En anvÃ¤ndare har ett pass

1â€“M: En kund kan gÃ¶ra flera bestÃ¤llningar

Mâ€“M: Studenter kan gÃ¥ flera kurser, kurser har flera studenter â‡’ junction-tabell krÃ¤vs

ğŸ—£ï¸ VarfÃ¶r Ã¶versÃ¤tta till SQL?

"NÃ¤r vi har ritat klart vÃ¥r modell, blir nÃ¤sta steg att faktiskt implementera den med CREATE TABLE och FOREIGN KEY i PostgreSQL."

-----------------------------
ğŸ“š Viktiga begrepp att fÃ¶rklara:

- **Entitet** â€“ verkligt objekt, t.ex. student, bok, bestÃ¤llning.

- **Attribut** â€“ en kolumn i en tabell, t.ex. namn, e-post, pris.

- **PrimÃ¤rnyckel (Primary Key)** â€“ unik identifierare per rad.

- **FrÃ¤mmande nyckel (Foreign Key)** â€“ koppling till annan tabells primÃ¤rnyckel.

- **Kardinalitet** â€“ hur mÃ¥nga entiteter som Ã¤r kopplade till en annan.

- **Normalisering** â€“ att strukturera data sÃ¥ att duplicering undviks.

- **Junction-tabell** â€“ anvÃ¤nds fÃ¶r att hantera many-to-many-relationer.

- **Datatyper** â€“ t.ex. `VARCHAR`, `INTEGER`, `DATE`, `BOOLEAN`.

-----------------------------
GrundlÃ¤ggande Ã¤mnen/keyword/syntax:

ğŸ§© Syntax att ha koll pÃ¥ i PostgreSQL:

- `CREATE TABLE`
- `SERIAL`, `INTEGER`, `VARCHAR(n)`
- `PRIMARY KEY`, `FOREIGN KEY`
- `REFERENCES table(column)`
- Kombinerad primÃ¤rnyckel: `PRIMARY KEY (a, b)`
- Notation i dbdiagram.io: `[pk]`, `[ref: > tabell.kolumn]`

Tips:
- dbdiagram.io anvÃ¤nder en enklare syntax men exporterar till PostgreSQL
- I junction-tabeller definieras bÃ¥da FK + kombinerad PK

-----------------------------
-----------------------------
-----------------------------
ğŸ’» CODE-ALONG

Del 1: Skapa ER-diagram

ğŸ› ï¸ Verktyg: dbdiagram.io (alternativt Lucidchart, DBeaver, draw.io)

ğŸ§  MÃ¥l med momentet:
FÃ¶rstÃ¥ hur man strukturerar en datamodell visuellt

LÃ¤ra sig anvÃ¤nda ER-diagram fÃ¶r att planera relationer

Identifiera och hantera many-to-many-relationer via junction-tabeller

ğŸ—‚ï¸ Exempel â€“ modellera en "Skola":

3 tabeller:
- students (id, name, email)

- courses (id, title, credits)

- enrollments (student_id, course_id) â† junction-tabell

Skapa ett konto (valfritt, men bra fÃ¶r att spara modeller)

Klicka pÃ¥ â€œNew Diagramâ€

AnvÃ¤nd fÃ¶ljande databasdefinition (notationen Ã¤r lik SQL):

Table students {
  id serial [pk]
  name varchar
  email varchar
}

Table courses {
  id serial [pk]
  title varchar
  credits int
}

Table enrollments {
  student_id int [ref: > students.id]
  course_id int [ref: > courses.id]
  [pk: student_id, course_id]
}

ğŸ—£ï¸ Talarmanus â€“ Junction-tabell:
"I mÃ¥nga verkliga system har vi many-to-many-relationer.
TÃ¤nk er att en student kan gÃ¥ flera kurser, och en kurs har flera studenter.
Om vi fÃ¶rsÃ¶kte lÃ¶sa detta direkt i students eller courses-tabellen, skulle det bli rÃ¶rigt â€“ vi kan inte ha flera course_id i en cell.

LÃ¶sningen Ã¤r att skapa en tredje tabell â€“ en sÃ¥ kallad junction-tabell eller mellan-tabell â€“ som bara innehÃ¥ller kopplingarna.
I vÃ¥rt exempel heter den enrollments och innehÃ¥ller student_id och course_id.
Detta gÃ¶r modellen bÃ¥de normaliserad och skalbar."

-----------------------------
Del 2: Ã–versÃ¤tt till SQL i pgAdmin

CREATE TABLE students (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);

CREATE TABLE courses (
  id SERIAL PRIMARY KEY,
  title VARCHAR(100),
  credits INTEGER
);

// junction-tabell
CREATE TABLE enrollments (
  student_id INTEGER,
  course_id INTEGER,
  PRIMARY KEY (student_id, course_id),
  FOREIGN KEY (student_id) REFERENCES students(id),
  FOREIGN KEY (course_id) REFERENCES courses(id)
);

-----------------------------
-----------------------------
-----------------------------
ğŸ§‘â€ğŸ’» SJÃ„LVSTÃ„NDIG Ã–VNING â€“ tre nivÃ¥er

ğŸ“‹ Studenterna vÃ¤ljer ett av tre scenarier och:

Ritar ER-diagram (verktyg valfritt)

Ã–versÃ¤tter till SQL

Skapar tabeller i PostgreSQL

-----------------------------
-----------------------------
-----------------------------
ğŸ” Gruppdiskussion:

Vad hÃ¤nder om vi vill lagra fler saker i junction-tabellen? (ex: betyg, datum fÃ¶r registrering)

Vad betyder det att en tabell bara innehÃ¥ller foreign keys?

Vad innebÃ¤r det att sÃ¤tta en kombinerad primary key?

Vilken Ã¤r den stÃ¶rsta risken med att inte modellera sin databas innan man bÃ¶rjar skriva SQL?
